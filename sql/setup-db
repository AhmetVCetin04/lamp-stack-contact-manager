CREATE DATABASE IF NOT EXISTS contact_manager;
USE contact_manager;

CREATE TABLE users_table (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_name VARCHAR(50)
);

CREATE TABLE contact_table (
  first_name VARCHAR(50),
  last_name VARCHAR(50),
  email VARCHAR(50),
  phone_number VARCHAR(20),
  record_created DATE
);

ALTER TABLE contact_table
  ADD COLUMN user_id INT;

ALTER TABLE contact_table
  ADD CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES users_table(id);

ALTER TABLE contact_table
  ADD COLUMN contact_id INT AUTO_INCREMENT PRIMARY KEY FIRST;

ALTER TABLE contact_table
  MODIFY COLUMN user_id INT NOT NULL;
